!function(Q){var B={};function F(U){if(B[U])return B[U].exports;var I=B[U]={i:U,l:!1,exports:{}};return Q[U].call(I.exports,I,I.exports,F),I.l=!0,I.exports}F.m=Q,F.c=B,F.d=function(Q,B,U){F.o(Q,B)||Object.defineProperty(Q,B,{enumerable:!0,get:U})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,B){if(1&B&&(Q=F(Q)),8&B)return Q;if(4&B&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(F.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&B&&"string"!=typeof Q)for(var I in Q)F.d(U,I,function(B){return Q[B]}.bind(null,I));return U},F.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(B,"a",B),B},F.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},F.p="",F(F.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/util.js\n/**\n * Generic debounce utility\n * \n * @param {Function} fn \n * @param {Int} timeout \n */\nfunction debounce(fn, timeout) {\n  var timerInterval = timeout;\n  var timer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      fn.apply(null, args);\n    }, timerInterval);\n  };\n}\n\n\n// CONCATENATED MODULE: ./src/js/autocomplete.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Autocomplete =\n/*#__PURE__*/\nfunction () {\n  function Autocomplete(selector, options) {\n    _classCallCheck(this, Autocomplete);\n\n    this.eleselector = selector;\n    this.options = $.extend({}, options, {});\n    this.containerSelector = this.eleselector + '-container';\n    this.items = options.items || [];\n\n    this._initialize();\n  }\n  /**\n   * Initializes the DOM for the autocomplete. Does thhis\n   * eagerly instead of on-demand/on the fly.\n   */\n\n\n  _createClass(Autocomplete, [{\n    key: \"_initialize\",\n    value: function _initialize() {\n      if ($(this.containerSelector).length == 0) {\n        $('body').append('<div id=\"' + this.containerSelector.replace('#', '') + '\"></div>');\n      }\n\n      this._attachEvents();\n    }\n    /**\n     * handles only the click/select event. However we can\n     * handle keyboard naviagtion to move up/down.\n     */\n\n  }, {\n    key: \"_attachEvents\",\n    value: function _attachEvents() {\n      var that = this;\n      $(this.containerSelector).on('click', 'a', function () {\n        var targetEle = event.target;\n        var selectedValue = targetEle.dataset.name;\n        that.options.select && that.options.select($(that.eleselector), selectedValue);\n      });\n    }\n    /**\n     *  Opens the autocomplete list\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      $(this.containerSelector).show();\n    }\n    /**\n     * Close the autocomplete list.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      $(this.containerSelector).hide();\n    }\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.items = items;\n      this.generateList();\n    }\n  }, {\n    key: \"generateList\",\n    value: function generateList() {\n      var html = \"<ul><li>\" + this.items.map(function (item) {\n        return \"<a href='' data-name='\" + item + \"'>\" + item + \"</a>\";\n      }).reduce(function (a, b) {\n        return a + \"</li><li>\" + b;\n      }) + \"</li><ul>\";\n      $(this.containerSelector).html(html);\n    }\n  }, {\n    key: \"render\",\n    value: function render(items) {\n      this.setItems(items);\n      this.open();\n    }\n  }]);\n\n  return Autocomplete;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/Suggestion.js\n/**\n * @param word to get the suggestion from\n * @returns Promise \n */\nvar lastWord, lastWordPromise;\n\nfunction wordSuggestions(word) {\n  var defer = $.Deferred();\n  var matches = ['_pre_$', '_pre_$_post', '$_post'];\n  var to_return = {\n    word: word,\n    matches: matches.map(function (a) {\n      return a.replace('$', word);\n    }).concat([word])\n  }; //random timeout\n\n  setTimeout(function () {\n    defer.resolve(to_return);\n  }, Math.floor(Math.random * 1000));\n  return defer.promise();\n}\n/**\n * hanldes the out of order suggestions properly.\n */\n\n\nfunction getSuggestions(word) {\n  if (lastWordPromise) {\n    getWords(word);\n    return lastWordPromise;\n  }\n\n  var defer = new $.Deferred();\n  lastWordPromise = defer.promise();\n  lastWord = word;\n\n  function getWords(wrd) {\n    wordSuggestions(wrd).done(function (res) {\n      if (res && res.word == lastWord) {\n        defer.resolve(res.matches);\n      }\n\n      lastWordPromise = null;\n      lastWord = null;\n    });\n  }\n\n  getWords(word);\n  return lastWordPromise;\n}\n\n\n// CONCATENATED MODULE: ./src/js/app.js\n/**\n * Initializer\n */\n\n\n\n\nwindow.onload = function () {\n  var autoComplete = new Autocomplete('#searchBox', {\n    select: autoCompletSelector\n  }); // debounce it for 100ms\n\n  $('#searchBox').on('keyup', debounce(function (event, ui) {\n    var selStart = event.target.selectionStart;\n    var selEnd = event.target.selectionEnd;\n    var value = $(event.target).val();\n    var wordToGetSuggestion;\n\n    if (selStart == selEnd && selEnd == value.length) {\n      //cursor is at the last position\n      //get the last word.\n      wordToGetSuggestion = value.split(' ').pop();\n    } else {\n      //if selection has multiple words, then we get the\n      //first word\n      wordToGetSuggestion = value.substr(selStart).split(' ').pop(0);\n    }\n\n    ;\n    getSuggestions(wordToGetSuggestion).done(function (matches) {\n      autoComplete.render(matches);\n    });\n  }, 100));\n\n  var autoCompletSelector = function autoCompletSelector(ele, selectedItem) {\n    var existingValue = ele.val();\n    var values = existingValue.split(' ');\n    var selectedValue = selectedItem; // store the last cursor position, \n\n    var cursorPosition = ele.data('cursor');\n\n    if (cursorPosition == existingValue.length) {\n      values.pop();\n      values.push(selectedItem);\n      to_set = values.join(' ');\n    }\n\n    var before = existingValue.substr(0, cursorPosition).lastIndexOf(' ');\n    var after = existingValue.substr(cursorPosition).indexOf(' ');\n\n    if (before != -1) {\n      to_set = existingValue.substr(0, before) + ' ';\n    }\n\n    to_set = selectedItem;\n\n    if (after != -1) {\n      to_set = existingValue.substr(0, after);\n    }\n\n    ele.value(to_set); // after selecting it close it.\n\n    autoComplete.close();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcz9mNjQ0Iiwid2VicGFjazovLy8uL3NyYy9qcy9hdXRvY29tcGxldGUuanM/NjQ3YiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvU3VnZ2VzdGlvbi5qcz8zNDZhIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanM/OTBlOSJdLCJuYW1lcyI6WyJkZWJvdW5jZSIsImZuIiwidGltZW91dCIsInRpbWVySW50ZXJ2YWwiLCJ0aW1lciIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJBdXRvY29tcGxldGUiLCJzZWxlY3RvciIsIm9wdGlvbnMiLCJlbGVzZWxlY3RvciIsIiQiLCJleHRlbmQiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwiX2luaXRpYWxpemUiLCJsZW5ndGgiLCJhcHBlbmQiLCJyZXBsYWNlIiwiX2F0dGFjaEV2ZW50cyIsInRoYXQiLCJvbiIsInRhcmdldEVsZSIsImV2ZW50IiwidGFyZ2V0Iiwic2VsZWN0ZWRWYWx1ZSIsImRhdGFzZXQiLCJuYW1lIiwic2VsZWN0Iiwic2hvdyIsImhpZGUiLCJnZW5lcmF0ZUxpc3QiLCJodG1sIiwibWFwIiwiaXRlbSIsInJlZHVjZSIsImEiLCJiIiwic2V0SXRlbXMiLCJvcGVuIiwibGFzdFdvcmQiLCJsYXN0V29yZFByb21pc2UiLCJ3b3JkU3VnZ2VzdGlvbnMiLCJ3b3JkIiwiZGVmZXIiLCJEZWZlcnJlZCIsIm1hdGNoZXMiLCJ0b19yZXR1cm4iLCJjb25jYXQiLCJyZXNvbHZlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicHJvbWlzZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0V29yZHMiLCJ3cmQiLCJkb25lIiwicmVzIiwid2luZG93Iiwib25sb2FkIiwiYXV0b0NvbXBsZXRlIiwiYXV0b0NvbXBsZXRTZWxlY3RvciIsInVpIiwic2VsU3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsInNlbEVuZCIsInNlbGVjdGlvbkVuZCIsInZhbHVlIiwidmFsIiwid29yZFRvR2V0U3VnZ2VzdGlvbiIsInNwbGl0IiwicG9wIiwic3Vic3RyIiwicmVuZGVyIiwiZWxlIiwic2VsZWN0ZWRJdGVtIiwiZXhpc3RpbmdWYWx1ZSIsInZhbHVlcyIsImN1cnNvclBvc2l0aW9uIiwiZGF0YSIsInB1c2giLCJ0b19zZXQiLCJqb2luIiwiYmVmb3JlIiwibGFzdEluZGV4T2YiLCJhZnRlciIsImluZGV4T2YiLCJjbG9zZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7Ozs7OztBQU1BLFNBQVNBLFFBQVQsQ0FBa0JDLEVBQWxCLEVBQXNCQyxPQUF0QixFQUE4QjtBQUMxQixNQUFNQyxhQUFhLEdBQUdELE9BQXRCO0FBQ0EsTUFBSUUsS0FBSjtBQUVBLFNBQU8sWUFBaUI7QUFBQSxzQ0FBTEMsSUFBSztBQUFMQSxVQUFLO0FBQUE7O0FBQ3BCLFFBQUcsQ0FBQ0QsS0FBSixFQUFVO0FBQ05FLGtCQUFZLENBQUNGLEtBQUQsQ0FBWjtBQUNIOztBQUNEQSxTQUFLLEdBQUdHLFVBQVUsQ0FBQyxZQUFVO0FBQ3pCTixRQUFFLENBQUNPLEtBQUgsQ0FBUyxJQUFULEVBQWVILElBQWY7QUFDSCxLQUZpQixFQUVmRixhQUZlLENBQWxCO0FBR0gsR0FQRDtBQVFIOzs7Ozs7Ozs7O0lDbEJvQk0sWTs7O0FBRWpCLHdCQUFZQyxRQUFaLEVBQXNCQyxPQUF0QixFQUE4QjtBQUFBOztBQUMxQixTQUFLQyxXQUFMLEdBQW1CRixRQUFuQjtBQUNBLFNBQUtDLE9BQUwsR0FBZUUsQ0FBQyxDQUFDQyxNQUFGLENBQVMsRUFBVCxFQUFhSCxPQUFiLEVBQXNCLEVBQXRCLENBQWY7QUFDQSxTQUFLSSxpQkFBTCxHQUF5QixLQUFLSCxXQUFMLEdBQW1CLFlBQTVDO0FBQ0EsU0FBS0ksS0FBTCxHQUFhTCxPQUFPLENBQUNLLEtBQVIsSUFBaUIsRUFBOUI7O0FBRUEsU0FBS0MsV0FBTDtBQUNIO0FBRUQ7Ozs7Ozs7O2tDQUlhO0FBQ1QsVUFBSUosQ0FBQyxDQUFDLEtBQUtFLGlCQUFO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ZCxDQUFxQixDQUFyQixFQUF1Qk0sY0FBdkIsRUFBdUNNLFdBQXZDLENBQW1ELEdBQW5ELENBQWI7QUFDQSxRQUFJQyxLQUFLLEdBQUdULGFBQWEsQ0FBQ0osTUFBZCxDQUFxQk0sY0FBckIsRUFBcUNRLE9BQXJDLENBQTZDLEdBQTdDLENBQVo7O0FBQ0EsUUFBR0gsTUFBTSxJQUFJLENBQUMsQ0FBZCxFQUFnQjtBQUNaRixZQUFNLEdBQUdMLGFBQWEsQ0FBQ0osTUFBZCxDQUFxQixDQUFyQixFQUF3QlcsTUFBeEIsSUFBa0MsR0FBM0M7QUFDSDs7QUFDREYsVUFBTSxHQUFHTixZQUFUOztBQUNBLFFBQUdVLEtBQUssSUFBSSxDQUFDLENBQWIsRUFBZTtBQUNYSixZQUFNLEdBQUdMLGFBQWEsQ0FBQ0osTUFBZCxDQUFxQixDQUFyQixFQUF3QmEsS0FBeEIsQ0FBVDtBQUNIOztBQUVEWCxPQUFHLENBQUNQLEtBQUosQ0FBVWMsTUFBVixFQXZCaUQsQ0F3QmpEOztBQUNBckIsZ0JBQVksQ0FBQzJCLEtBQWI7QUFDSCxHQTFCRDtBQTJCSCxDQXpERCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmljIGRlYm91bmNlIHV0aWxpdHlcbiAqIFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gXG4gKiBAcGFyYW0ge0ludH0gdGltZW91dCBcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWVvdXQpe1xuICAgIGNvbnN0IHRpbWVySW50ZXJ2YWwgPSB0aW1lb3V0O1xuICAgIGxldCB0aW1lcjtcbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgIGlmKCF0aW1lcil7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7ICAgICBcbiAgICAgICAgfSwgdGltZXJJbnRlcnZhbClcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgZGVib3VuY2Vcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRvY29tcGxldGUge1xuICAgXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIG9wdGlvbnMpe1xuICAgICAgICB0aGlzLmVsZXNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7fSlcbiAgICAgICAgdGhpcy5jb250YWluZXJTZWxlY3RvciA9IHRoaXMuZWxlc2VsZWN0b3IgKyAnLWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBvcHRpb25zLml0ZW1zIHx8IFtdO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgRE9NIGZvciB0aGUgYXV0b2NvbXBsZXRlLiBEb2VzIHRoaGlzXG4gICAgICogZWFnZXJseSBpbnN0ZWFkIG9mIG9uLWRlbWFuZC9vbiB0aGUgZmx5LlxuICAgICAqL1xuICAgIF9pbml0aWFsaXplKCl7XG4gICAgICAgIGlmICgkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCInICsgdGhpcy5jb250YWluZXJTZWxlY3Rvci5yZXBsYWNlKCcjJywgJycpICsgJ1wiPjwvZGl2PicpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hdHRhY2hFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBoYW5kbGVzIG9ubHkgdGhlIGNsaWNrL3NlbGVjdCBldmVudC4gSG93ZXZlciB3ZSBjYW5cbiAgICAgKiBoYW5kbGUga2V5Ym9hcmQgbmF2aWFndGlvbiB0byBtb3ZlIHVwL2Rvd24uXG4gICAgICovXG4gICAgX2F0dGFjaEV2ZW50cygpe1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICQodGhpcy5jb250YWluZXJTZWxlY3Rvcikub24oJ2NsaWNrJywgJ2EnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHRhcmdldEVsZSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGFyZ2V0RWxlLmRhdGFzZXQubmFtZTtcbiAgICAgICAgICAgIHRoYXQub3B0aW9ucy5zZWxlY3QgJiYgdGhhdC5vcHRpb25zLnNlbGVjdCgkKHRoYXQuZWxlc2VsZWN0b3IpLCBzZWxlY3RlZFZhbHVlKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgT3BlbnMgdGhlIGF1dG9jb21wbGV0ZSBsaXN0XG4gICAgICovXG4gICAgb3Blbigpe1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLnNob3coKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgYXV0b2NvbXBsZXRlIGxpc3QuXG4gICAgICovXG4gICAgY2xvc2UoKXtcbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lclNlbGVjdG9yKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgc2V0SXRlbXMoaXRlbXMpe1xuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVMaXN0KCk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVMaXN0KCl7XG4gICAgICAgIHZhciBodG1sID0gXCI8dWw+PGxpPlwiICsgdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiPGEgaHJlZj0nJyBkYXRhLW5hbWU9J1wiICsgaXRlbSArIFwiJz5cIiArIGl0ZW0gKyBcIjwvYT5cIlxuICAgICAgICB9KS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBcIjwvbGk+PGxpPlwiICsgYikgKyBcIjwvbGk+PHVsPlwiXG5cbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lclNlbGVjdG9yKS5odG1sKGh0bWwpXG4gICAgfVxuXG4gICAgcmVuZGVyKGl0ZW1zKXtcbiAgICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQHBhcmFtIHdvcmQgdG8gZ2V0IHRoZSBzdWdnZXN0aW9uIGZyb21cbiAqIEByZXR1cm5zIFByb21pc2UgXG4gKi9cbnZhciBsYXN0V29yZCwgbGFzdFdvcmRQcm9taXNlO1xuXG5mdW5jdGlvbiB3b3JkU3VnZ2VzdGlvbnMod29yZCl7ICBcbiAgICB2YXIgZGVmZXIgPSAkLkRlZmVycmVkKCk7XG4gICAgdmFyIG1hdGNoZXMgPSBbJ19wcmVfJCcsICdfcHJlXyRfcG9zdCcsICckX3Bvc3QnXTtcbiAgICB2YXIgdG9fcmV0dXJuID0ge1xuICAgICAgICB3b3JkOiB3b3JkLFxuICAgICAgICBtYXRjaGVzOiBtYXRjaGVzLm1hcChhID0+IGEucmVwbGFjZSgnJCcsIHdvcmQpKS5jb25jYXQoW3dvcmRdKVxuICAgIH1cblxuICAgIC8vcmFuZG9tIHRpbWVvdXRcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGRlZmVyLnJlc29sdmUodG9fcmV0dXJuKVxuICAgIH0sIE1hdGguZmxvb3IoTWF0aC5yYW5kb20gKiAxMDAwKSk7XG5cbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xufVxuXG5cbi8qKlxuICogaGFubGRlcyB0aGUgb3V0IG9mIG9yZGVyIHN1Z2dlc3Rpb25zIHByb3Blcmx5LlxuICovXG5mdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh3b3JkKXtcbiAgICBcbiAgICBpZihsYXN0V29yZFByb21pc2UpIHtcbiAgICAgICAgZ2V0V29yZHMod29yZCk7XG4gICAgICAgIHJldHVybiBsYXN0V29yZFByb21pc2U7XG4gICAgfVxuXG4gICAgbGV0IGRlZmVyID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgICBsYXN0V29yZFByb21pc2UgPSBkZWZlci5wcm9taXNlKCk7XG4gICAgbGFzdFdvcmQgPSB3b3JkO1xuXG4gICAgZnVuY3Rpb24gZ2V0V29yZHMod3JkKXtcbiAgICAgICAgd29yZFN1Z2dlc3Rpb25zKHdyZCkuZG9uZShmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgaWYocmVzICYmIHJlcy53b3JkID09IGxhc3RXb3JkKXtcbiAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlcy5tYXRjaGVzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYXN0V29yZFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgbGFzdFdvcmQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRXb3Jkcyh3b3JkKTtcbiAgICByZXR1cm4gbGFzdFdvcmRQcm9taXNlO1xufVxuXG5leHBvcnQge1xuICAgIGdldFN1Z2dlc3Rpb25zXG59IiwiLyoqXG4gKiBJbml0aWFsaXplclxuICovXG5cbmltcG9ydCB7ZGVib3VuY2V9IGZyb20gJy4vdXRpbC5qcydcbmltcG9ydCBBdXRvY29tcGxldGUgZnJvbSAnLi9hdXRvY29tcGxldGUuanMnXG5pbXBvcnQge2dldFN1Z2dlc3Rpb25zfSBmcm9tICcuL1N1Z2dlc3Rpb24uanMnXG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhdXRvQ29tcGxldGUgPSBuZXcgQXV0b2NvbXBsZXRlKCcjc2VhcmNoQm94Jywge1xuICAgICAgICBzZWxlY3Q6IGF1dG9Db21wbGV0U2VsZWN0b3JcbiAgICB9KTtcblxuICAgIC8vIGRlYm91bmNlIGl0IGZvciAxMDBtc1xuICAgICQoJyNzZWFyY2hCb3gnKS5vbigna2V5dXAnLCBkZWJvdW5jZShmdW5jdGlvbihldmVudCwgdWkpe1xuXG4gICAgICAgIHZhciBzZWxTdGFydCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdmFyIHNlbEVuZCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIHZhciB2YWx1ZSA9ICQoZXZlbnQudGFyZ2V0KS52YWwoKTtcbiAgICAgICAgXG4gICAgICAgIHZhciB3b3JkVG9HZXRTdWdnZXN0aW9uO1xuICAgICAgICBpZiAoc2VsU3RhcnQgPT0gc2VsRW5kICYmIHNlbEVuZCA9PSB2YWx1ZS5sZW5ndGgpe1xuICAgICAgICAgICAgLy9jdXJzb3IgaXMgYXQgdGhlIGxhc3QgcG9zaXRpb25cbiAgICAgICAgICAgIC8vZ2V0IHRoZSBsYXN0IHdvcmQuXG4gICAgICAgICAgICB3b3JkVG9HZXRTdWdnZXN0aW9uID0gdmFsdWUuc3BsaXQoJyAnKS5wb3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vaWYgc2VsZWN0aW9uIGhhcyBtdWx0aXBsZSB3b3JkcywgdGhlbiB3ZSBnZXQgdGhlXG4gICAgICAgICAgICAvL2ZpcnN0IHdvcmRcbiAgICAgICAgICAgIHdvcmRUb0dldFN1Z2dlc3Rpb24gPSB2YWx1ZS5zdWJzdHIoc2VsU3RhcnQpLnNwbGl0KCcgJykucG9wKDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGdldFN1Z2dlc3Rpb25zKHdvcmRUb0dldFN1Z2dlc3Rpb24pLmRvbmUoZnVuY3Rpb24obWF0Y2hlcyl7XG4gICAgICAgICAgICBhdXRvQ29tcGxldGUucmVuZGVyKG1hdGNoZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG5cbiAgICB9LCAxMDApKTtcblxuICAgIHZhciBhdXRvQ29tcGxldFNlbGVjdG9yID0gZnVuY3Rpb24oZWxlLCBzZWxlY3RlZEl0ZW0pe1xuICAgICAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IGVsZS52YWwoKTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGV4aXN0aW5nVmFsdWUuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBzZWxlY3RlZEl0ZW07XG5cbiAgICAgICAgLy8gc3RvcmUgdGhlIGxhc3QgY3Vyc29yIHBvc2l0aW9uLCBcbiAgICAgICAgdmFyIGN1cnNvclBvc2l0aW9uID0gZWxlLmRhdGEoJ2N1cnNvcicpO1xuICAgICAgICBpZihjdXJzb3JQb3NpdGlvbiA9PSBleGlzdGluZ1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWVzLnBvcCgpO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgIHRvX3NldCA9IHZhbHVlcy5qb2luKCcgJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmVmb3JlID0gZXhpc3RpbmdWYWx1ZS5zdWJzdHIoMCxjdXJzb3JQb3NpdGlvbikubGFzdEluZGV4T2YoJyAnKTtcbiAgICAgICAgdmFyIGFmdGVyID0gZXhpc3RpbmdWYWx1ZS5zdWJzdHIoY3Vyc29yUG9zaXRpb24pLmluZGV4T2YoJyAnKTtcbiAgICAgICAgaWYoYmVmb3JlICE9IC0xKXtcbiAgICAgICAgICAgIHRvX3NldCA9IGV4aXN0aW5nVmFsdWUuc3Vic3RyKDAsIGJlZm9yZSkgKyAnICdcbiAgICAgICAgfVxuICAgICAgICB0b19zZXQgPSBzZWxlY3RlZEl0ZW1cbiAgICAgICAgaWYoYWZ0ZXIgIT0gLTEpe1xuICAgICAgICAgICAgdG9fc2V0ID0gZXhpc3RpbmdWYWx1ZS5zdWJzdHIoMCwgYWZ0ZXIpXG4gICAgICAgIH1cblxuICAgICAgICBlbGUudmFsdWUodG9fc2V0KTtcbiAgICAgICAgLy8gYWZ0ZXIgc2VsZWN0aW5nIGl0IGNsb3NlIGl0LlxuICAgICAgICBhdXRvQ29tcGxldGUuY2xvc2UoKTtcbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);