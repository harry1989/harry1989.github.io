!function(Q){var F={};function B(I){if(F[I])return F[I].exports;var U=F[I]={i:I,l:!1,exports:{}};return Q[I].call(U.exports,U,U.exports,B),U.l=!0,U.exports}B.m=Q,B.c=F,B.d=function(Q,F,I){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:I})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var I=Object.create(null);if(B.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var U in Q)B.d(I,U,function(F){return Q[F]}.bind(null,U));return I},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/util.js\n/**\n * Generic debounce utility\n * \n * @param {Function} fn \n * @param {Int} timeout \n */\nfunction debounce(fn, timeout) {\n  var timerInterval = timeout;\n  var timer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      fn.apply(null, args);\n    }, timerInterval);\n  };\n}\n\n\n// CONCATENATED MODULE: ./src/js/autocomplete.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Autocomplete =\n/*#__PURE__*/\nfunction () {\n  function Autocomplete(selector, options) {\n    _classCallCheck(this, Autocomplete);\n\n    this.eleselector = selector;\n    this.options = $.extend({}, options, {});\n    this.containerSelector = this.eleselector + '-container';\n    this.items = options.items || [];\n\n    this._initialize();\n  }\n  /**\n   * Initializes the DOM for the autocomplete. Does thhis\n   * eagerly instead of on-demand/on the fly.\n   */\n\n\n  _createClass(Autocomplete, [{\n    key: \"_initialize\",\n    value: function _initialize() {\n      if ($(this.containerSelector).length == 0) {\n        $('body').append('<div id=\"' + this.containerSelector + '\"></div>');\n      }\n\n      this._attachEvents();\n    }\n    /**\n     * handles only the click/select event. However we can\n     * handle keyboard naviagtion to move up/down.\n     */\n\n  }, {\n    key: \"_attachEvents\",\n    value: function _attachEvents() {\n      var that = this;\n      $(this.containerSelector).on('click', 'a', function () {\n        var targetEle = event.target;\n        var selectedValue = targetEle.dataset.name;\n        that.options.select && that.options.select($(that.eleselector), selectedValue);\n      });\n    }\n  }, {\n    key: \"open\",\n\n    /**\n     *  Opens the autocomplete list\n     */\n    value: function open() {\n      $(this.containerSelector).show();\n    }\n    /**\n     * Close the autocomplete list.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      $(this.containerSelector).hide();\n    }\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.items = items;\n      this.generateList();\n    }\n  }, {\n    key: \"generateList\",\n    value: function generateList() {\n      var html = \"<ul><li>\" + this.items.map(function (item) {\n        return \"<a href='' data-name='\" + item + \"'>\" + item + \"</a>\";\n      }).reduce(function (a, b) {\n        return a + \"</li><li>\" + b;\n      }) + \"</li><ul>\";\n      $(this.containerSelector).html(html);\n    }\n  }, {\n    key: \"render\",\n    value: function render(items) {\n      this.setItems(items);\n      this.open();\n    }\n  }], [{\n    key: \"defaultSelector\",\n\n    /**\n     * Default selector function which sets the\n     * value\n     * \n     * @param {*} ele \n     * @param {*} value \n     */\n    value: function defaultSelector(ele, value) {\n      $(ele).value(value);\n    }\n  }]);\n\n  return Autocomplete;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/Suggestion.js\n/**\n * @param word to get the suggestion from\n * @returns Promise \n */\nvar lastWord, lastWordPromise;\n\nfunction wordSuggestions(word) {\n  var defer = $.Deferred();\n  var matches = ['_pre_$', '_pre_$_post', '$_post'];\n  var to_return = {\n    word: word,\n    matches: matches.map(function (a) {\n      return a.replace('$', word);\n    }) + [word]\n  }; //random timeout\n\n  setTimeout(function () {\n    defer.resolve(to_return);\n  }, Math.floor(Math.random * 1000));\n  return defer.promise();\n}\n/**\n * hanldes the out of order suggestions properly.\n */\n\n\nfunction getSuggestions(word) {\n  if (lastWordPromise) {\n    getWords(word);\n    return lastWordPromise;\n  }\n\n  defer = new $.Deferred();\n  lastWordPromise = defer.promise();\n  lastWord = word;\n\n  function getWords(wrd) {\n    wordSuggestions(wrd).done(function (res) {\n      if (res && res.word == lastWord) {\n        defer.resolve(res.matches);\n      }\n\n      lastWordPromise = null;\n      lastWord = null;\n    });\n  }\n\n  getWords();\n  return lastWordPromise;\n}\n\n\n// CONCATENATED MODULE: ./src/js/app.js\n/**\n * Initializer\n */\n\n\n\n\nwindow.onload = function () {\n  var autoComplete = new Autocomplete('#searchBox', {\n    select: autoCompletSelector\n  }); // debounce it for 100ms\n\n  $('#searchBox').on('keyup', debounce(function (event, ui) {\n    var selStart = event.target.selectionStart;\n    var selEnd = event.target.selectionEnd;\n    var value = $(this).val();\n    var wordToGetSuggestion;\n\n    if (selStart == selEnd && selEnd == value.length) {\n      //cursor is at the last position\n      //get the last word.\n      wordToGetSuggestion = value.split(' ').pop();\n    } else {\n      //if selection has multiple words, then we get the\n      //first word\n      wordToGetSuggestion = value.substr(selStart).split(' ').pop(0);\n    }\n\n    var matches = getSuggestions(wordToGetSuggestion);\n    autoComplete.renderItems(matches);\n  }, 100));\n\n  var autoCompletSelector = function autoCompletSelector(ele, selectedItem) {\n    var existingValue = ele.val();\n    var values = existingValue.split(' ');\n    var selectedValue = selectedItem; // store the last cursor position, \n\n    var cursorPosition = ele.data('cursor');\n\n    if (cursorPosition == existingValue.length) {\n      values.pop();\n      values.push(selectedItem);\n      to_set = values.join(' ');\n    }\n\n    var before = existingValue.substr(0, cursorPosition).lastIndexOf(' ');\n    var after = existingValue.substr(cursorPosition).indexOf(' ');\n\n    if (before != -1) {\n      to_set = existingValue.substr(0, before) + ' ';\n    }\n\n    to_set = selectedItem;\n\n    if (after != -1) {\n      to_set = existingValue.substr(0, after);\n    }\n\n    ele.value(to_set); // after selecting it close it.\n\n    autoComplete.close();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcz9mNjQ0Iiwid2VicGFjazovLy8uL3NyYy9qcy9hdXRvY29tcGxldGUuanM/NjQ3YiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvU3VnZ2VzdGlvbi5qcz8zNDZhIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanM/OTBlOSJdLCJuYW1lcyI6WyJkZWJvdW5jZSIsImZuIiwidGltZW91dCIsInRpbWVySW50ZXJ2YWwiLCJ0aW1lciIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJBdXRvY29tcGxldGUiLCJzZWxlY3RvciIsIm9wdGlvbnMiLCJlbGVzZWxlY3RvciIsIiQiLCJleHRlbmQiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwiX2luaXRpYWxpemUiLCJsZW5ndGgiLCJhcHBlbmQiLCJfYXR0YWNoRXZlbnRzIiwidGhhdCIsIm9uIiwidGFyZ2V0RWxlIiwiZXZlbnQiLCJ0YXJnZXQiLCJzZWxlY3RlZFZhbHVlIiwiZGF0YXNldCIsIm5hbWUiLCJzZWxlY3QiLCJzaG93IiwiaGlkZSIsImdlbmVyYXRlTGlzdCIsImh0bWwiLCJtYXAiLCJpdGVtIiwicmVkdWNlIiwiYSIsImIiLCJzZXRJdGVtcyIsIm9wZW4iLCJlbGUiLCJ2YWx1ZSIsImxhc3RXb3JkIiwibGFzdFdvcmRQcm9taXNlIiwid29yZFN1Z2dlc3Rpb25zIiwid29yZCIsImRlZmVyIiwiRGVmZXJyZWQiLCJtYXRjaGVzIiwidG9fcmV0dXJuIiwicmVwbGFjZSIsInJlc29sdmUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwcm9taXNlIiwiZ2V0U3VnZ2VzdGlvbnMiLCJnZXRXb3JkcyIsIndyZCIsImRvbmUiLCJyZXMiLCJ3aW5kb3ciLCJvbmxvYWQiLCJhdXRvQ29tcGxldGUiLCJhdXRvQ29tcGxldFNlbGVjdG9yIiwidWkiLCJzZWxTdGFydCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsRW5kIiwic2VsZWN0aW9uRW5kIiwidmFsIiwid29yZFRvR2V0U3VnZ2VzdGlvbiIsInNwbGl0IiwicG9wIiwic3Vic3RyIiwicmVuZGVySXRlbXMiLCJzZWxlY3RlZEl0ZW0iLCJleGlzdGluZ1ZhbHVlIiwidmFsdWVzIiwiY3Vyc29yUG9zaXRpb24iLCJkYXRhIiwicHVzaCIsInRvX3NldCIsImpvaW4iLCJiZWZvcmUiLCJsYXN0SW5kZXhPZiIsImFmdGVyIiwiaW5kZXhPZiIsImNsb3NlIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTs7Ozs7O0FBTUEsU0FBU0EsUUFBVCxDQUFrQkMsRUFBbEIsRUFBc0JDLE9BQXRCLEVBQThCO0FBQzFCLE1BQU1DLGFBQWEsR0FBR0QsT0FBdEI7QUFDQSxNQUFJRSxLQUFKO0FBRUEsU0FBTyxZQUFpQjtBQUFBLHNDQUFMQyxJQUFLO0FBQUxBLFVBQUs7QUFBQTs7QUFDcEIsUUFBRyxDQUFDRCxLQUFKLEVBQVU7QUFDTkUsa0JBQVksQ0FBQ0YsS0FBRCxDQUFaO0FBQ0g7O0FBQ0RBLFNBQUssR0FBR0csVUFBVSxDQUFDLFlBQVU7QUFDekJOLFFBQUUsQ0FBQ08sS0FBSCxDQUFTLElBQVQsRUFBZUgsSUFBZjtBQUNILEtBRmlCLEVBRWZGLGFBRmUsQ0FBbEI7QUFHSCxHQVBEO0FBUUg7Ozs7Ozs7Ozs7SUNsQm9CTSxZOzs7QUFFakIsd0JBQVlDLFFBQVosRUFBc0JDLE9BQXRCLEVBQThCO0FBQUE7O0FBQzFCLFNBQUtDLFdBQUwsR0FBbUJGLFFBQW5CO0FBQ0EsU0FBS0MsT0FBTCxHQUFlRSxDQUFDLENBQUNDLE1BQUYsQ0FBUyxFQUFULEVBQWFILE9BQWIsRUFBc0IsRUFBdEIsQ0FBZjtBQUNBLFNBQUtJLGlCQUFMLEdBQXlCLEtBQUtILFdBQUwsR0FBbUIsWUFBNUM7QUFDQSxTQUFLSSxLQUFMLEdBQWFMLE9BQU8sQ0FBQ0ssS0FBUixJQUFpQixFQUE5Qjs7QUFFQSxTQUFLQyxXQUFMO0FBQ0g7QUFFRDs7Ozs7Ozs7a0NBSWE7QUFDVCxVQUFJSixDQUFDLENBQUMsS0FBS0UsaUJBQU4sQ0FB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TSxXQUF2QyxDQUFtRCxHQUFuRCxDQUFiO0FBQ0EsUUFBSUMsS0FBSyxHQUFHVCxhQUFhLENBQUNILE1BQWQsQ0FBcUJLLGNBQXJCLEVBQXFDUSxPQUFyQyxDQUE2QyxHQUE3QyxDQUFaOztBQUNBLFFBQUdILE1BQU0sSUFBSSxDQUFDLENBQWQsRUFBZ0I7QUFDWkYsWUFBTSxHQUFHTCxhQUFhLENBQUNILE1BQWQsQ0FBcUIsQ0FBckIsRUFBd0JVLE1BQXhCLElBQWtDLEdBQTNDO0FBQ0g7O0FBQ0RGLFVBQU0sR0FBR04sWUFBVDs7QUFDQSxRQUFHVSxLQUFLLElBQUksQ0FBQyxDQUFiLEVBQWU7QUFDWEosWUFBTSxHQUFHTCxhQUFhLENBQUNILE1BQWQsQ0FBcUIsQ0FBckIsRUFBd0JZLEtBQXhCLENBQVQ7QUFDSDs7QUFFRDlDLE9BQUcsQ0FBQ0MsS0FBSixDQUFVeUMsTUFBVixFQXZCaUQsQ0F3QmpEOztBQUNBbkIsZ0JBQVksQ0FBQ3lCLEtBQWI7QUFDSCxHQTFCRDtBQTJCSCxDQXRERCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmljIGRlYm91bmNlIHV0aWxpdHlcbiAqIFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gXG4gKiBAcGFyYW0ge0ludH0gdGltZW91dCBcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWVvdXQpe1xuICAgIGNvbnN0IHRpbWVySW50ZXJ2YWwgPSB0aW1lb3V0O1xuICAgIGxldCB0aW1lcjtcbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncyl7XG4gICAgICAgIGlmKCF0aW1lcil7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7ICAgICBcbiAgICAgICAgfSwgdGltZXJJbnRlcnZhbClcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgZGVib3VuY2Vcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRvY29tcGxldGUge1xuICAgXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIG9wdGlvbnMpe1xuICAgICAgICB0aGlzLmVsZXNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7fSlcbiAgICAgICAgdGhpcy5jb250YWluZXJTZWxlY3RvciA9IHRoaXMuZWxlc2VsZWN0b3IgKyAnLWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBvcHRpb25zLml0ZW1zIHx8IFtdO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgRE9NIGZvciB0aGUgYXV0b2NvbXBsZXRlLiBEb2VzIHRoaGlzXG4gICAgICogZWFnZXJseSBpbnN0ZWFkIG9mIG9uLWRlbWFuZC9vbiB0aGUgZmx5LlxuICAgICAqL1xuICAgIF9pbml0aWFsaXplKCl7XG4gICAgICAgIGlmICgkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCInICsgdGhpcy5jb250YWluZXJTZWxlY3RvciArICdcIj48L2Rpdj4nKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGFuZGxlcyBvbmx5IHRoZSBjbGljay9zZWxlY3QgZXZlbnQuIEhvd2V2ZXIgd2UgY2FuXG4gICAgICogaGFuZGxlIGtleWJvYXJkIG5hdmlhZ3Rpb24gdG8gbW92ZSB1cC9kb3duLlxuICAgICAqL1xuICAgIF9hdHRhY2hFdmVudHMoKXtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRFbGUgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRhcmdldEVsZS5kYXRhc2V0Lm5hbWU7XG4gICAgICAgICAgICB0aGF0Lm9wdGlvbnMuc2VsZWN0ICYmIHRoYXQub3B0aW9ucy5zZWxlY3QoJCh0aGF0LmVsZXNlbGVjdG9yKSwgc2VsZWN0ZWRWYWx1ZSlcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2VsZWN0b3IgZnVuY3Rpb24gd2hpY2ggc2V0cyB0aGVcbiAgICAgKiB2YWx1ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Kn0gZWxlIFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgXG4gICAgICovXG4gICAgc3RhdGljIGRlZmF1bHRTZWxlY3RvcihlbGUsIHZhbHVlKXtcbiAgICAgICAgJChlbGUpLnZhbHVlKHZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBPcGVucyB0aGUgYXV0b2NvbXBsZXRlIGxpc3RcbiAgICAgKi9cbiAgICBvcGVuKCl7XG4gICAgICAgICQodGhpcy5jb250YWluZXJTZWxlY3Rvcikuc2hvdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBhdXRvY29tcGxldGUgbGlzdC5cbiAgICAgKi9cbiAgICBjbG9zZSgpe1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLmhpZGUoKTtcbiAgICB9XG5cbiAgICBzZXRJdGVtcyhpdGVtcyl7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUxpc3QoKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUxpc3QoKXtcbiAgICAgICAgdmFyIGh0bWwgPSBcIjx1bD48bGk+XCIgKyB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gXCI8YSBocmVmPScnIGRhdGEtbmFtZT0nXCIgKyBpdGVtICsgXCInPlwiICsgaXRlbSArIFwiPC9hPlwiXG4gICAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYSArIFwiPC9saT48bGk+XCIgKyBiKSArIFwiPC9saT48dWw+XCJcblxuICAgICAgICAkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLmh0bWwoaHRtbClcbiAgICB9XG5cbiAgICByZW5kZXIoaXRlbXMpe1xuICAgICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAcGFyYW0gd29yZCB0byBnZXQgdGhlIHN1Z2dlc3Rpb24gZnJvbVxuICogQHJldHVybnMgUHJvbWlzZSBcbiAqL1xudmFyIGxhc3RXb3JkLCBsYXN0V29yZFByb21pc2U7XG5cbmZ1bmN0aW9uIHdvcmRTdWdnZXN0aW9ucyh3b3JkKXsgIFxuICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcbiAgICB2YXIgbWF0Y2hlcyA9IFsnX3ByZV8kJywgJ19wcmVfJF9wb3N0JywgJyRfcG9zdCddO1xuICAgIHZhciB0b19yZXR1cm4gPSB7XG4gICAgICAgIHdvcmQ6IHdvcmQsXG4gICAgICAgIG1hdGNoZXM6IG1hdGNoZXMubWFwKGEgPT4gYS5yZXBsYWNlKCckJywgd29yZCkpICsgW3dvcmRdXG4gICAgfVxuXG4gICAgLy9yYW5kb20gdGltZW91dFxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgZGVmZXIucmVzb2x2ZSh0b19yZXR1cm4pXG4gICAgfSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSAqIDEwMDApKTtcblxuICAgIHJldHVybiBkZWZlci5wcm9taXNlKCk7XG59XG5cblxuLyoqXG4gKiBoYW5sZGVzIHRoZSBvdXQgb2Ygb3JkZXIgc3VnZ2VzdGlvbnMgcHJvcGVybHkuXG4gKi9cbmZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHdvcmQpe1xuICAgIFxuICAgIGlmKGxhc3RXb3JkUHJvbWlzZSkge1xuICAgICAgICBnZXRXb3Jkcyh3b3JkKTtcbiAgICAgICAgcmV0dXJuIGxhc3RXb3JkUHJvbWlzZTtcbiAgICB9XG5cbiAgICBkZWZlciA9IG5ldyAkLkRlZmVycmVkKCk7XG4gICAgbGFzdFdvcmRQcm9taXNlID0gZGVmZXIucHJvbWlzZSgpO1xuICAgIGxhc3RXb3JkID0gd29yZDtcblxuICAgIGZ1bmN0aW9uIGdldFdvcmRzKHdyZCl7XG4gICAgICAgIHdvcmRTdWdnZXN0aW9ucyh3cmQpLmRvbmUoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgIGlmKHJlcyAmJiByZXMud29yZCA9PSBsYXN0V29yZCl7XG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMubWF0Y2hlcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdFdvcmRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIGxhc3RXb3JkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0V29yZHMoKTtcbiAgICByZXR1cm4gbGFzdFdvcmRQcm9taXNlO1xufVxuXG5leHBvcnQge1xuICAgIGdldFN1Z2dlc3Rpb25zXG59IiwiLyoqXG4gKiBJbml0aWFsaXplclxuICovXG5cbmltcG9ydCB7ZGVib3VuY2V9IGZyb20gJy4vdXRpbC5qcydcbmltcG9ydCBBdXRvY29tcGxldGUgZnJvbSAnLi9hdXRvY29tcGxldGUuanMnXG5pbXBvcnQge2dldFN1Z2dlc3Rpb25zfSBmcm9tICcuL1N1Z2dlc3Rpb24uanMnXG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhdXRvQ29tcGxldGUgPSBuZXcgQXV0b2NvbXBsZXRlKCcjc2VhcmNoQm94Jywge1xuICAgICAgICBzZWxlY3Q6IGF1dG9Db21wbGV0U2VsZWN0b3JcbiAgICB9KTtcblxuICAgIC8vIGRlYm91bmNlIGl0IGZvciAxMDBtc1xuICAgICQoJyNzZWFyY2hCb3gnKS5vbigna2V5dXAnLCBkZWJvdW5jZShmdW5jdGlvbihldmVudCwgdWkpe1xuXG4gICAgICAgIHZhciBzZWxTdGFydCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdmFyIHNlbEVuZCA9IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIHZhciB2YWx1ZSA9ICQodGhpcykudmFsKClcbiAgICAgICAgdmFyIHdvcmRUb0dldFN1Z2dlc3Rpb247XG4gICAgICAgIGlmIChzZWxTdGFydCA9PSBzZWxFbmQgJiYgc2VsRW5kID09IHZhbHVlLmxlbmd0aCl7XG4gICAgICAgICAgICAvL2N1cnNvciBpcyBhdCB0aGUgbGFzdCBwb3NpdGlvblxuICAgICAgICAgICAgLy9nZXQgdGhlIGxhc3Qgd29yZC5cbiAgICAgICAgICAgIHdvcmRUb0dldFN1Z2dlc3Rpb24gPSB2YWx1ZS5zcGxpdCgnICcpLnBvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9pZiBzZWxlY3Rpb24gaGFzIG11bHRpcGxlIHdvcmRzLCB0aGVuIHdlIGdldCB0aGVcbiAgICAgICAgICAgIC8vZmlyc3Qgd29yZFxuICAgICAgICAgICAgd29yZFRvR2V0U3VnZ2VzdGlvbiA9IHZhbHVlLnN1YnN0cihzZWxTdGFydCkuc3BsaXQoJyAnKS5wb3AoMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF0Y2hlcyA9IGdldFN1Z2dlc3Rpb25zKHdvcmRUb0dldFN1Z2dlc3Rpb24pO1xuICAgICAgICBhdXRvQ29tcGxldGUucmVuZGVySXRlbXMobWF0Y2hlcylcblxuICAgIH0sIDEwMCkpO1xuXG4gICAgdmFyIGF1dG9Db21wbGV0U2VsZWN0b3IgPSBmdW5jdGlvbihlbGUsIHNlbGVjdGVkSXRlbSl7XG4gICAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gZWxlLnZhbCgpO1xuICAgICAgICB2YXIgdmFsdWVzID0gZXhpc3RpbmdWYWx1ZS5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHNlbGVjdGVkSXRlbTtcblxuICAgICAgICAvLyBzdG9yZSB0aGUgbGFzdCBjdXJzb3IgcG9zaXRpb24sIFxuICAgICAgICB2YXIgY3Vyc29yUG9zaXRpb24gPSBlbGUuZGF0YSgnY3Vyc29yJyk7XG4gICAgICAgIGlmKGN1cnNvclBvc2l0aW9uID09IGV4aXN0aW5nVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZXMucG9wKCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChzZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgdG9fc2V0ID0gdmFsdWVzLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiZWZvcmUgPSBleGlzdGluZ1ZhbHVlLnN1YnN0cigwLGN1cnNvclBvc2l0aW9uKS5sYXN0SW5kZXhPZignICcpO1xuICAgICAgICB2YXIgYWZ0ZXIgPSBleGlzdGluZ1ZhbHVlLnN1YnN0cihjdXJzb3JQb3NpdGlvbikuaW5kZXhPZignICcpO1xuICAgICAgICBpZihiZWZvcmUgIT0gLTEpe1xuICAgICAgICAgICAgdG9fc2V0ID0gZXhpc3RpbmdWYWx1ZS5zdWJzdHIoMCwgYmVmb3JlKSArICcgJ1xuICAgICAgICB9XG4gICAgICAgIHRvX3NldCA9IHNlbGVjdGVkSXRlbVxuICAgICAgICBpZihhZnRlciAhPSAtMSl7XG4gICAgICAgICAgICB0b19zZXQgPSBleGlzdGluZ1ZhbHVlLnN1YnN0cigwLCBhZnRlcilcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZS52YWx1ZSh0b19zZXQpO1xuICAgICAgICAvLyBhZnRlciBzZWxlY3RpbmcgaXQgY2xvc2UgaXQuXG4gICAgICAgIGF1dG9Db21wbGV0ZS5jbG9zZSgpO1xuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);