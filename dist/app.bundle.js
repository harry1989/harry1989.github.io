!function(Q){var F={};function B(I){if(F[I])return F[I].exports;var s=F[I]={i:I,l:!1,exports:{}};return Q[I].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=Q,B.c=F,B.d=function(Q,F,I){B.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:I})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,F){if(1&F&&(Q=B(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var I=Object.create(null);if(B.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)B.d(I,s,function(F){return Q[F]}.bind(null,s));return I},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/util.js\n/**\n * Generic debounce utility\n * \n * @param {Function} fn \n * @param {Int} timeout \n */\nfunction debounce(fn, timeout) {\n  var timerInterval = timeout;\n  var timer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      fn.apply(null, args);\n    }, timerInterval);\n  };\n}\n\n\n// CONCATENATED MODULE: ./src/js/autocomplete.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Autocomplete =\n/*#__PURE__*/\nfunction () {\n  function Autocomplete(selector, options) {\n    _classCallCheck(this, Autocomplete);\n\n    this.eleselector = selector;\n    this.options = $.extend({}, options, {});\n    this.containerSelector = this.eleselector.replace('#', '') + '-container';\n    this.items = options.items || [];\n\n    this._initialize();\n  }\n  /**\n   * Initializes the DOM for the autocomplete. Does thhis\n   * eagerly instead of on-demand/on the fly.\n   */\n\n\n  _createClass(Autocomplete, [{\n    key: \"_initialize\",\n    value: function _initialize() {\n      if ($(this.containerSelector).length == 0) {\n        $('body').append('<div id=\"' + this.containerSelector + '\"></div>');\n      }\n\n      this._attachEvents();\n    }\n    /**\n     * handles only the click/select event. However we can\n     * handle keyboard naviagtion to move up/down.\n     */\n\n  }, {\n    key: \"_attachEvents\",\n    value: function _attachEvents() {\n      var that = this;\n      $(this.containerSelector).on('click', 'a', function () {\n        var targetEle = event.target;\n        var selectedValue = targetEle.dataset.name;\n        that.options.select && that.options.select($(that.eleselector), selectedValue);\n      });\n    }\n    /**\n     *  Opens the autocomplete list\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      $(this.containerSelector).show();\n    }\n    /**\n     * Close the autocomplete list.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      $(this.containerSelector).hide();\n    }\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.items = items;\n      this.generateList();\n    }\n  }, {\n    key: \"generateList\",\n    value: function generateList() {\n      var html = \"<ul><li>\" + this.items.map(function (item) {\n        return \"<a href='' data-name='\" + item + \"'>\" + item + \"</a>\";\n      }).reduce(function (a, b) {\n        return a + \"</li><li>\" + b;\n      }) + \"</li><ul>\";\n      $(this.containerSelector).html(html);\n    }\n  }, {\n    key: \"render\",\n    value: function render(items) {\n      this.setItems(items);\n      this.open();\n    }\n  }]);\n\n  return Autocomplete;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/Suggestion.js\n/**\n * @param word to get the suggestion from\n * @returns Promise \n */\nvar lastWord, lastWordPromise;\n\nfunction wordSuggestions(word) {\n  var defer = $.Deferred();\n  var matches = ['_pre_$', '_pre_$_post', '$_post'];\n  var to_return = {\n    word: word,\n    matches: matches.map(function (a) {\n      return a.replace('$', word);\n    }).concat([word])\n  }; //random timeout\n\n  setTimeout(function () {\n    defer.resolve(to_return);\n  }, Math.floor(Math.random * 1000));\n  return defer.promise();\n}\n/**\n * hanldes the out of order suggestions properly.\n */\n\n\nfunction getSuggestions(word) {\n  if (lastWordPromise) {\n    getWords(word);\n    return lastWordPromise;\n  }\n\n  var defer = new $.Deferred();\n  lastWordPromise = defer.promise();\n  lastWord = word;\n\n  function getWords(wrd) {\n    wordSuggestions(wrd).done(function (res) {\n      if (res && res.word == lastWord) {\n        defer.resolve(res.matches);\n      }\n\n      lastWordPromise = null;\n      lastWord = null;\n    });\n  }\n\n  getWords(word);\n  return lastWordPromise;\n}\n\n\n// CONCATENATED MODULE: ./src/js/app.js\n/**\n * Initializer\n */\n\n\n\n\nwindow.onload = function () {\n  var autoComplete = new Autocomplete('#searchBox', {\n    select: autoCompletSelector\n  }); // debounce it for 100ms\n\n  $('#searchBox').on('keyup', debounce(function (event, ui) {\n    var selStart = event.target.selectionStart;\n    var selEnd = event.target.selectionEnd;\n    var value = $(event.target).val();\n    var wordToGetSuggestion;\n\n    if (selStart == selEnd && selEnd == value.length) {\n      //cursor is at the last position\n      //get the last word.\n      wordToGetSuggestion = value.split(' ').pop();\n    } else {\n      //if selection has multiple words, then we get the\n      //first word\n      wordToGetSuggestion = value.substr(selStart).split(' ').pop(0);\n    }\n\n    ;\n    getSuggestions(wordToGetSuggestion).done(function (matches) {\n      autoComplete.render(matches);\n    });\n  }, 100));\n\n  var autoCompletSelector = function autoCompletSelector(ele, selectedItem) {\n    var existingValue = ele.val();\n    var values = existingValue.split(' ');\n    var selectedValue = selectedItem; // store the last cursor position, \n\n    var cursorPosition = ele.data('cursor');\n\n    if (cursorPosition == existingValue.length) {\n      values.pop();\n      values.push(selectedItem);\n      to_set = values.join(' ');\n    }\n\n    var before = existingValue.substr(0, cursorPosition).lastIndexOf(' ');\n    var after = existingValue.substr(cursorPosition).indexOf(' ');\n\n    if (before != -1) {\n      to_set = existingValue.substr(0, before) + ' ';\n    }\n\n    to_set = selectedItem;\n\n    if (after != -1) {\n      to_set = existingValue.substr(0, after);\n    }\n\n    ele.value(to_set); // after selecting it close it.\n\n    autoComplete.close();\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcz9mNjQ0Iiwid2VicGFjazovLy8uL3NyYy9qcy9hdXRvY29tcGxldGUuanM/NjQ3YiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvU3VnZ2VzdGlvbi5qcz8zNDZhIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanM/OTBlOSJdLCJuYW1lcyI6WyJkZWJvdW5jZSIsImZuIiwidGltZW91dCIsInRpbWVySW50ZXJ2YWwiLCJ0aW1lciIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJBdXRvY29tcGxldGUiLCJzZWxlY3RvciIsIm9wdGlvbnMiLCJlbGVzZWxlY3RvciIsIiQiLCJleHRlbmQiLCJjb250YWluZXJTZWxlY3RvciIsInJlcGxhY2UiLCJpdGVtcyIsIl9pbml0aWFsaXplIiwibGVuZ3RoIiwiYXBwZW5kIiwiX2F0dGFjaEV2ZW50cyIsInRoYXQiLCJvbiIsInRhcmdldEVsZSIsImV2ZW50IiwidGFyZ2V0Iiwic2VsZWN0ZWRWYWx1ZSIsImRhdGFzZXQiLCJuYW1lIiwic2VsZWN0Iiwic2hvdyIsImhpZGUiLCJnZW5lcmF0ZUxpc3QiLCJodG1sIiwibWFwIiwiaXRlbSIsInJlZHVjZSIsImEiLCJiIiwic2V0SXRlbXMiLCJvcGVuIiwibGFzdFdvcmQiLCJsYXN0V29yZFByb21pc2UiLCJ3b3JkU3VnZ2VzdGlvbnMiLCJ3b3JkIiwiZGVmZXIiLCJEZWZlcnJlZCIsIm1hdGNoZXMiLCJ0b19yZXR1cm4iLCJjb25jYXQiLCJyZXNvbHZlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicHJvbWlzZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0V29yZHMiLCJ3cmQiLCJkb25lIiwicmVzIiwid2luZG93Iiwib25sb2FkIiwiYXV0b0NvbXBsZXRlIiwiYXV0b0NvbXBsZXRTZWxlY3RvciIsInVpIiwic2VsU3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsInNlbEVuZCIsInNlbGVjdGlvbkVuZCIsInZhbHVlIiwidmFsIiwid29yZFRvR2V0U3VnZ2VzdGlvbiIsInNwbGl0IiwicG9wIiwic3Vic3RyIiwicmVuZGVyIiwiZWxlIiwic2VsZWN0ZWRJdGVtIiwiZXhpc3RpbmdWYWx1ZSIsInZhbHVlcyIsImN1cnNvclBvc2l0aW9uIiwiZGF0YSIsInB1c2giLCJ0b19zZXQiLCJqb2luIiwiYmVmb3JlIiwibGFzdEluZGV4T2YiLCJhZnRlciIsImluZGV4T2YiLCJjbG9zZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7Ozs7OztBQU1BLFNBQVNBLFFBQVQsQ0FBa0JDLEVBQWxCLEVBQXNCQyxPQUF0QixFQUE4QjtBQUMxQixNQUFNQyxhQUFhLEdBQUdELE9BQXRCO0FBQ0EsTUFBSUUsS0FBSjtBQUVBLFNBQU8sWUFBaUI7QUFBQSxzQ0FBTEMsSUFBSztBQUFMQSxVQUFLO0FBQUE7O0FBQ3BCLFFBQUcsQ0FBQ0QsS0FBSixFQUFVO0FBQ05FLGtCQUFZLENBQUNGLEtBQUQsQ0FBWjtBQUNIOztBQUNEQSxTQUFLLEdBQUdHLFVBQVUsQ0FBQyxZQUFVO0FBQ3pCTixRQUFFLENBQUNPLEtBQUgsQ0FBUyxJQUFULEVBQWVILElBQWY7QUFDSCxLQUZpQixFQUVmRixhQUZlLENBQWxCO0FBR0gsR0FQRDtBQVFIOzs7Ozs7Ozs7O0lDbEJvQk0sWTs7O0FBRWpCLHdCQUFZQyxRQUFaLEVBQXNCQyxPQUF0QixFQUE4QjtBQUFBOztBQUMxQixTQUFLQyxXQUFMLEdBQW1CRixRQUFuQjtBQUNBLFNBQUtDLE9BQUwsR0FBZUUsQ0FBQyxDQUFDQyxNQUFGLENBQVMsRUFBVCxFQUFhSCxPQUFiLEVBQXNCLEVBQXRCLENBQWY7QUFDQSxTQUFLSSxpQkFBTCxHQUF5QixLQUFLSCxXQUFMLENBQWlCSSxPQUFqQixDQUF5QixHQUF6QixFQUE4QixFQUE5QixJQUFvQyxZQUE3RDtBQUNBLFNBQUtDLEtBQUwsR0FBYU4sT0FBTyxDQUFDTSxLQUFSLElBQWlCLEVBQTlCOztBQUVBLFNBQUtDLFdBQUw7QUFDSDtBQUVEOzs7Ozs7Oztr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cUIsQ0FBckIsRUFBdUJNLGNBQXZCLEVBQXVDTSxXQUF2QyxDQUFtRCxHQUFuRCxDQUFiO0FBQ0EsUUFBSUMsS0FBSyxHQUFHVCxhQUFhLENBQUNKLE1BQWQsQ0FBcUJNLGNBQXJCLEVBQXFDUSxPQUFyQyxDQUE2QyxHQUE3QyxDQUFaOztBQUNBLFFBQUdILE1BQU0sSUFBSSxDQUFDLENBQWQsRUFBZ0I7QUFDWkYsWUFBTSxHQUFHTCxhQUFhLENBQUNKLE1BQWQsQ0FBcUIsQ0FBckIsRUFBd0JXLE1BQXhCLElBQWtDLEdBQTNDO0FBQ0g7O0FBQ0RGLFVBQU0sR0FBR04sWUFBVDs7QUFDQSxRQUFHVSxLQUFLLElBQUksQ0FBQyxDQUFiLEVBQWU7QUFDWEosWUFBTSxHQUFHTCxhQUFhLENBQUNKLE1BQWQsQ0FBcUIsQ0FBckIsRUFBd0JhLEtBQXhCLENBQVQ7QUFDSDs7QUFFRFgsT0FBRyxDQUFDUCxLQUFKLENBQVVjLE1BQVYsRUF2QmlELENBd0JqRDs7QUFDQXJCLGdCQUFZLENBQUMyQixLQUFiO0FBQ0gsR0ExQkQ7QUEyQkgsQ0F6REQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJpYyBkZWJvdW5jZSB1dGlsaXR5XG4gKiBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFxuICogQHBhcmFtIHtJbnR9IHRpbWVvdXQgXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KXtcbiAgICBjb25zdCB0aW1lckludGVydmFsID0gdGltZW91dDtcbiAgICBsZXQgdGltZXI7XG4gICAgXG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICBpZighdGltZXIpe1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpOyAgICAgXG4gICAgICAgIH0sIHRpbWVySW50ZXJ2YWwpXG4gICAgfVxufVxuXG5leHBvcnQge1xuICAgIGRlYm91bmNlXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0b2NvbXBsZXRlIHtcbiAgIFxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBvcHRpb25zKXtcbiAgICAgICAgdGhpcy5lbGVzZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgb3B0aW9ucywge30pXG4gICAgICAgIHRoaXMuY29udGFpbmVyU2VsZWN0b3IgPSB0aGlzLmVsZXNlbGVjdG9yLnJlcGxhY2UoJyMnLCAnJykgKyAnLWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBvcHRpb25zLml0ZW1zIHx8IFtdO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgRE9NIGZvciB0aGUgYXV0b2NvbXBsZXRlLiBEb2VzIHRoaGlzXG4gICAgICogZWFnZXJseSBpbnN0ZWFkIG9mIG9uLWRlbWFuZC9vbiB0aGUgZmx5LlxuICAgICAqL1xuICAgIF9pbml0aWFsaXplKCl7XG4gICAgICAgIGlmICgkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCInICsgdGhpcy5jb250YWluZXJTZWxlY3RvciArICdcIj48L2Rpdj4nKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGFuZGxlcyBvbmx5IHRoZSBjbGljay9zZWxlY3QgZXZlbnQuIEhvd2V2ZXIgd2UgY2FuXG4gICAgICogaGFuZGxlIGtleWJvYXJkIG5hdmlhZ3Rpb24gdG8gbW92ZSB1cC9kb3duLlxuICAgICAqL1xuICAgIF9hdHRhY2hFdmVudHMoKXtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyU2VsZWN0b3IpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciB0YXJnZXRFbGUgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRhcmdldEVsZS5kYXRhc2V0Lm5hbWU7XG4gICAgICAgICAgICB0aGF0Lm9wdGlvbnMuc2VsZWN0ICYmIHRoYXQub3B0aW9ucy5zZWxlY3QoJCh0aGF0LmVsZXNlbGVjdG9yKSwgc2VsZWN0ZWRWYWx1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE9wZW5zIHRoZSBhdXRvY29tcGxldGUgbGlzdFxuICAgICAqL1xuICAgIG9wZW4oKXtcbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lclNlbGVjdG9yKS5zaG93KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGF1dG9jb21wbGV0ZSBsaXN0LlxuICAgICAqL1xuICAgIGNsb3NlKCl7XG4gICAgICAgICQodGhpcy5jb250YWluZXJTZWxlY3RvcikuaGlkZSgpO1xuICAgIH1cblxuICAgIHNldEl0ZW1zKGl0ZW1zKXtcbiAgICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLmdlbmVyYXRlTGlzdCgpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlTGlzdCgpe1xuICAgICAgICB2YXIgaHRtbCA9IFwiPHVsPjxsaT5cIiArIHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBcIjxhIGhyZWY9JycgZGF0YS1uYW1lPSdcIiArIGl0ZW0gKyBcIic+XCIgKyBpdGVtICsgXCI8L2E+XCJcbiAgICAgICAgfSkucmVkdWNlKChhLCBiKSA9PiBhICsgXCI8L2xpPjxsaT5cIiArIGIpICsgXCI8L2xpPjx1bD5cIlxuXG4gICAgICAgICQodGhpcy5jb250YWluZXJTZWxlY3RvcikuaHRtbChodG1sKVxuICAgIH1cblxuICAgIHJlbmRlcihpdGVtcyl7XG4gICAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBwYXJhbSB3b3JkIHRvIGdldCB0aGUgc3VnZ2VzdGlvbiBmcm9tXG4gKiBAcmV0dXJucyBQcm9taXNlIFxuICovXG52YXIgbGFzdFdvcmQsIGxhc3RXb3JkUHJvbWlzZTtcblxuZnVuY3Rpb24gd29yZFN1Z2dlc3Rpb25zKHdvcmQpeyAgXG4gICAgdmFyIGRlZmVyID0gJC5EZWZlcnJlZCgpO1xuICAgIHZhciBtYXRjaGVzID0gWydfcHJlXyQnLCAnX3ByZV8kX3Bvc3QnLCAnJF9wb3N0J107XG4gICAgdmFyIHRvX3JldHVybiA9IHtcbiAgICAgICAgd29yZDogd29yZCxcbiAgICAgICAgbWF0Y2hlczogbWF0Y2hlcy5tYXAoYSA9PiBhLnJlcGxhY2UoJyQnLCB3b3JkKSkuY29uY2F0KFt3b3JkXSlcbiAgICB9XG5cbiAgICAvL3JhbmRvbSB0aW1lb3V0XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBkZWZlci5yZXNvbHZlKHRvX3JldHVybilcbiAgICB9LCBNYXRoLmZsb29yKE1hdGgucmFuZG9tICogMTAwMCkpO1xuXG4gICAgcmV0dXJuIGRlZmVyLnByb21pc2UoKTtcbn1cblxuXG4vKipcbiAqIGhhbmxkZXMgdGhlIG91dCBvZiBvcmRlciBzdWdnZXN0aW9ucyBwcm9wZXJseS5cbiAqL1xuZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvbnMod29yZCl7XG4gICAgXG4gICAgaWYobGFzdFdvcmRQcm9taXNlKSB7XG4gICAgICAgIGdldFdvcmRzKHdvcmQpO1xuICAgICAgICByZXR1cm4gbGFzdFdvcmRQcm9taXNlO1xuICAgIH1cblxuICAgIGxldCBkZWZlciA9IG5ldyAkLkRlZmVycmVkKCk7XG4gICAgbGFzdFdvcmRQcm9taXNlID0gZGVmZXIucHJvbWlzZSgpO1xuICAgIGxhc3RXb3JkID0gd29yZDtcblxuICAgIGZ1bmN0aW9uIGdldFdvcmRzKHdyZCl7XG4gICAgICAgIHdvcmRTdWdnZXN0aW9ucyh3cmQpLmRvbmUoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgIGlmKHJlcyAmJiByZXMud29yZCA9PSBsYXN0V29yZCl7XG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMubWF0Y2hlcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdFdvcmRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIGxhc3RXb3JkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0V29yZHMod29yZCk7XG4gICAgcmV0dXJuIGxhc3RXb3JkUHJvbWlzZTtcbn1cblxuZXhwb3J0IHtcbiAgICBnZXRTdWdnZXN0aW9uc1xufSIsIi8qKlxuICogSW5pdGlhbGl6ZXJcbiAqL1xuXG5pbXBvcnQge2RlYm91bmNlfSBmcm9tICcuL3V0aWwuanMnXG5pbXBvcnQgQXV0b2NvbXBsZXRlIGZyb20gJy4vYXV0b2NvbXBsZXRlLmpzJ1xuaW1wb3J0IHtnZXRTdWdnZXN0aW9uc30gZnJvbSAnLi9TdWdnZXN0aW9uLmpzJ1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYXV0b0NvbXBsZXRlID0gbmV3IEF1dG9jb21wbGV0ZSgnI3NlYXJjaEJveCcsIHtcbiAgICAgICAgc2VsZWN0OiBhdXRvQ29tcGxldFNlbGVjdG9yXG4gICAgfSk7XG5cbiAgICAvLyBkZWJvdW5jZSBpdCBmb3IgMTAwbXNcbiAgICAkKCcjc2VhcmNoQm94Jykub24oJ2tleXVwJywgZGVib3VuY2UoZnVuY3Rpb24oZXZlbnQsIHVpKXtcblxuICAgICAgICB2YXIgc2VsU3RhcnQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIHZhciBzZWxFbmQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uRW5kO1xuICAgICAgICB2YXIgdmFsdWUgPSAkKGV2ZW50LnRhcmdldCkudmFsKCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgd29yZFRvR2V0U3VnZ2VzdGlvbjtcbiAgICAgICAgaWYgKHNlbFN0YXJ0ID09IHNlbEVuZCAmJiBzZWxFbmQgPT0gdmFsdWUubGVuZ3RoKXtcbiAgICAgICAgICAgIC8vY3Vyc29yIGlzIGF0IHRoZSBsYXN0IHBvc2l0aW9uXG4gICAgICAgICAgICAvL2dldCB0aGUgbGFzdCB3b3JkLlxuICAgICAgICAgICAgd29yZFRvR2V0U3VnZ2VzdGlvbiA9IHZhbHVlLnNwbGl0KCcgJykucG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2lmIHNlbGVjdGlvbiBoYXMgbXVsdGlwbGUgd29yZHMsIHRoZW4gd2UgZ2V0IHRoZVxuICAgICAgICAgICAgLy9maXJzdCB3b3JkXG4gICAgICAgICAgICB3b3JkVG9HZXRTdWdnZXN0aW9uID0gdmFsdWUuc3Vic3RyKHNlbFN0YXJ0KS5zcGxpdCgnICcpLnBvcCgwKTtcbiAgICAgICAgfTtcblxuICAgICAgICBnZXRTdWdnZXN0aW9ucyh3b3JkVG9HZXRTdWdnZXN0aW9uKS5kb25lKGZ1bmN0aW9uKG1hdGNoZXMpe1xuICAgICAgICAgICAgYXV0b0NvbXBsZXRlLnJlbmRlcihtYXRjaGVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuXG4gICAgfSwgMTAwKSk7XG5cbiAgICB2YXIgYXV0b0NvbXBsZXRTZWxlY3RvciA9IGZ1bmN0aW9uKGVsZSwgc2VsZWN0ZWRJdGVtKXtcbiAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBlbGUudmFsKCk7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBleGlzdGluZ1ZhbHVlLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gc2VsZWN0ZWRJdGVtO1xuXG4gICAgICAgIC8vIHN0b3JlIHRoZSBsYXN0IGN1cnNvciBwb3NpdGlvbiwgXG4gICAgICAgIHZhciBjdXJzb3JQb3NpdGlvbiA9IGVsZS5kYXRhKCdjdXJzb3InKTtcbiAgICAgICAgaWYoY3Vyc29yUG9zaXRpb24gPT0gZXhpc3RpbmdWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wb3AoKTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHNlbGVjdGVkSXRlbSk7XG4gICAgICAgICAgICB0b19zZXQgPSB2YWx1ZXMuam9pbignICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJlZm9yZSA9IGV4aXN0aW5nVmFsdWUuc3Vic3RyKDAsY3Vyc29yUG9zaXRpb24pLmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgIHZhciBhZnRlciA9IGV4aXN0aW5nVmFsdWUuc3Vic3RyKGN1cnNvclBvc2l0aW9uKS5pbmRleE9mKCcgJyk7XG4gICAgICAgIGlmKGJlZm9yZSAhPSAtMSl7XG4gICAgICAgICAgICB0b19zZXQgPSBleGlzdGluZ1ZhbHVlLnN1YnN0cigwLCBiZWZvcmUpICsgJyAnXG4gICAgICAgIH1cbiAgICAgICAgdG9fc2V0ID0gc2VsZWN0ZWRJdGVtXG4gICAgICAgIGlmKGFmdGVyICE9IC0xKXtcbiAgICAgICAgICAgIHRvX3NldCA9IGV4aXN0aW5nVmFsdWUuc3Vic3RyKDAsIGFmdGVyKVxuICAgICAgICB9XG5cbiAgICAgICAgZWxlLnZhbHVlKHRvX3NldCk7XG4gICAgICAgIC8vIGFmdGVyIHNlbGVjdGluZyBpdCBjbG9zZSBpdC5cbiAgICAgICAgYXV0b0NvbXBsZXRlLmNsb3NlKCk7XG4gICAgfVxufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);